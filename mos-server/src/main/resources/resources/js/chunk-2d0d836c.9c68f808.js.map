{"version":3,"sources":["webpack:///./src/pages/viewer/PhotoViewer.vue?0165","webpack:///src/pages/viewer/PhotoViewer.vue","webpack:///./src/pages/viewer/PhotoViewer.vue?e5e5","webpack:///./src/pages/viewer/PhotoViewer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","onBack","attrs","staticStyle","reload","parentDirs","length","_l","dir","key","path","$event","changeCurrentPath","_v","_s","_e","currentPath","item","id","fileName","record","bucket","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,YAAY,UAAUC,GAAG,CAAC,MAAQP,EAAIQ,SAAS,CAACJ,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,eAAe,GAAGL,EAAG,IAAI,CAACM,YAAY,CAAC,cAAc,QAAQH,GAAG,CAAC,MAAQP,EAAIW,SAAS,CAACP,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,WAAW,GAAIT,EAAIY,WAAWC,OAAS,EAAGT,EAAG,OAAOJ,EAAIc,GAAId,EAAc,YAAE,SAASe,GAAK,OAAOX,EAAG,IAAI,CAACY,IAAID,EAAIE,KAAKX,YAAY,UAAUI,YAAY,CAAC,cAAc,QAAQH,GAAG,CAAC,SAAS,SAASW,GAAQ,OAAOlB,EAAImB,kBAAkBJ,EAAIE,SAAS,CAACjB,EAAIoB,GAAGpB,EAAIqB,GAAGN,EAAIE,YAAW,GAAGjB,EAAIsB,KAAKlB,EAAG,OAAO,CAACE,YAAY,UAAUI,YAAY,CAAC,cAAc,SAAS,CAACV,EAAIoB,GAAG,IAAIpB,EAAIqB,GAAGrB,EAAIuB,aAAa,SAAUvB,EAAU,OAAEI,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,SAAST,EAAIc,GAAId,EAAQ,MAAE,SAASwB,GAAM,OAAOpB,EAAG,QAAQ,CAACY,IAAIQ,EAAKC,GAAGhB,MAAM,CAAC,KAAO,UAAU,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,iCAAiCL,EAAG,IAAI,CAACG,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAOlB,EAAImB,kBAAkBK,MAAS,CAACxB,EAAIoB,GAAGpB,EAAIqB,GAAGG,EAAKE,cAAc,MAAK,GAAGtB,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,SAAST,EAAIc,GAAId,EAAS,OAAE,SAAS2B,GAAQ,OAAOvB,EAAG,QAAQ,CAACY,IAAIW,EAAOF,GAAGhB,MAAM,CAAC,KAAO,UAAU,CAACL,EAAG,QAAQ,CAACM,YAAY,CAAC,MAAQ,QAAQ,OAAS,SAASD,MAAM,CAAC,IAAO,QAAUT,EAAI4B,OAAUD,EAAoB,cAAI,kBAAmB,MAAK,IAAI,GAAG3B,EAAIsB,QAC3yCO,EAAkB,G,oCC8CtB,GACE,KAAF,cACE,WAAF,CAAI,MAAJ,OAAI,SAAJ,QACE,KAHF,WAII,MAAJ,CACM,iBAAN,EACM,YAAN,EACM,SAAN,EACM,YAAN,EACM,QAAN,EACM,SAAN,GACM,WAAN,KAGE,QAdF,WAeI,IAAJ,oBACA,IACM,KAAN,mBACM,KAAN,gBACM,KAAN,UAGE,SAAF,CACI,KADJ,WAEM,OAAN,mCACA,+CAAU,OAAV,WAEA,IAEI,MAPJ,WAQM,OAAN,mCACA,+CAAU,OAAV,WAEA,KAGE,QAAF,CACI,OADJ,WAEM,QAAN,QAEI,OAJJ,aAOI,kBAPJ,SAOA,GACM,KAAN,cACM,KAAN,SAEI,MAXJ,WAiBM,IAAN,OANA,EAMA,uDANA,CACQ,QAAR,EACQ,SAAR,cACQ,KAAR,iBACQ,UAAR,KACQ,UAAR,MAEM,KAAN,WACM,KAAN,2DACQ,OAAR,IACA,kBACQ,EAAR,WACQ,IAAR,gBACQ,EAAR,SAEQ,QAAR,aC7GoW,I,YCOhWC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-2d0d836c.9c68f808.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('a',{staticClass:\"dir-nav\",on:{\"click\":_vm.onBack}},[_c('a-icon',{attrs:{\"type\":\"rollback\"}})],1),_c('a',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.reload}},[_c('a-icon',{attrs:{\"type\":\"sync\"}})],1),(_vm.parentDirs.length > 0)?_c('span',_vm._l((_vm.parentDirs),function(dir){return _c('a',{key:dir.path,staticClass:\"dir-nav\",staticStyle:{\"margin-left\":\"10px\"},on:{\"~click\":function($event){return _vm.changeCurrentPath(dir.path)}}},[_vm._v(_vm._s(dir.path))])}),0):_vm._e(),_c('span',{staticClass:\"current\",staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\" \"+_vm._s(_vm.currentPath)+\" \")])]),(_vm.result)?_c('div',[_c('a-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.dirs),function(item){return _c('a-col',{key:item.id,attrs:{\"flex\":\"200px\"}},[_c('IconFont',{attrs:{\"type\":\"icon-weibiaoti-_huabanfuben\"}}),_c('a',{on:{\"click\":function($event){return _vm.changeCurrentPath(item)}}},[_vm._v(_vm._s(item.fileName))])],1)}),1),_c('a-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.files),function(record){return _c('a-col',{key:record.id,attrs:{\"flex\":\"200px\"}},[_c('Thumb',{staticStyle:{\"width\":\"200px\",\"height\":\"200px\"},attrs:{\"src\":(\"/mos/\" + _vm.bucket + (record.urlEncodePath) + \"?thumb=true\")}})],1)}),1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<!-- 返回 -->\r\n\t\t\t<a class=\"dir-nav\" @click=\"onBack\">\r\n\t\t\t\t<a-icon type=\"rollback\"/>\r\n\t\t\t</a>\r\n\t\t\t<a style=\"margin-left: 10px;\" @click=\"reload\">\r\n\t\t\t\t<a-icon type=\"sync\"/>\r\n\t\t\t</a>\r\n\t\t\t<!--\t\t\t<a class=\"listType\" style=\"margin-left: 10px;\" @click=\"changeListType\">-->\r\n\t\t\t<!--\t\t\t\t<IconFont v-if=\"listType === 'list'\" type=\"icon-liebiao\"-->\r\n\t\t\t<!--\t\t\t\t\t\t  mode=\"font-class\"/>-->\r\n\t\t\t<!--\t\t\t\t<IconFont v-else type=\"icon-xiaosuolvetu\" mode=\"font-class\"/>-->\r\n\t\t\t<!--\t\t\t</a>-->\r\n\t\t\t<!-- 父路径 -->\r\n\t\t\t<span v-if=\"parentDirs.length > 0\">\r\n\t\t\t\t<a style=\"margin-left:10px;\" class=\"dir-nav\" v-for=\"dir in parentDirs\" :key=\"dir.path\"\r\n\t\t\t\t   @click.once=\"changeCurrentPath(dir.path)\">{{dir.path}}</a>\r\n\t\t\t</span>\r\n\t\t\t<!-- 当前路径 -->\r\n\t\t\t<span class=\"current\" style=\"margin-left:10px;\">\r\n\t\t\t\t{{currentPath}}\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div v-if=\"result\">\r\n\t\t\t<a-row type=\"flex\">\r\n\t\t\t\t<a-col flex=\"200px\" v-for=\"item of dirs\" :key=\"item.id\">\r\n\t\t\t\t\t<IconFont type=\"icon-weibiaoti-_huabanfuben\"/>\r\n\t\t\t\t\t<a @click=\"changeCurrentPath(item)\">{{item.fileName}}</a>\r\n\t\t\t\t</a-col>\r\n\t\t\t</a-row>\r\n\t\t\t<a-row type=\"flex\">\r\n\t\t\t\t<a-col flex=\"200px\" v-for=\"record of files\" :key=\"record.id\">\r\n\t\t\t\t\t<Thumb style=\"width: 200px;height:200px;\"\r\n\t\t\t\t\t\t   :src=\"`/mos/${bucket}${record.urlEncodePath}?thumb=true`\"/>\r\n\t\t\t\t</a-col>\r\n\t\t\t</a-row>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n    import IconFont from \"../resource/components/IconFont\";\r\n    import Thumb from \"../resource/components/Thumb\";\r\n\r\n    export default {\r\n        name: \"PhotoViewer\",\r\n        components: {Thumb, IconFont},\r\n        data() {\r\n            return {\r\n                currentPath: undefined,\r\n                bucket: undefined,\r\n                loading: false,\r\n                result: undefined,\r\n                pageNum: 1,\r\n                pageSize: 20,\r\n                parentDirs: []\r\n            }\r\n        },\r\n        mounted() {\r\n            let query = this.$route.query;\r\n            if (query) {\r\n                this.currentPath = query.path;\r\n                this.bucket = query.bucket;\r\n                this.fetch();\r\n            }\r\n        },\r\n        computed: {\r\n            dirs() {\r\n                if (this.result && this.result.resources) {\r\n                    return this.result.resources.list.filter(item => item.isDir);\r\n                }\r\n                return [];\r\n            },\r\n            files() {\r\n                if (this.result && this.result.resources) {\r\n                    return this.result.resources.list.filter(item => !item.isDir);\r\n                }\r\n                return [];\r\n            }\r\n        },\r\n        methods: {\r\n            onBack() {\r\n                history.back();\r\n            },\r\n            reload() {\r\n\r\n            },\r\n            changeCurrentPath(path) {\r\n                this.currentPath = path;\r\n                this.fetch();\r\n            },\r\n            fetch(params = {\r\n                pageNum: 1,\r\n                pageSize: this.pageSize,\r\n                path: this.currentPath,\r\n                sortField: null,\r\n                sortOrder: null\r\n            }, callback) {\r\n                this.loading = true;\r\n                this.$http.get(`/member/resource/${this.bucket}/list`, {\r\n                    params: params\r\n                }).then(value => {\r\n                    this.loading = false;\r\n                    let result = value.data.result;\r\n                    this.result = result;\r\n                    // history.pushState(params, null, params.url);\r\n                    console.log(result);\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoViewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoViewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhotoViewer.vue?vue&type=template&id=267477f5&scoped=true&\"\nimport script from \"./PhotoViewer.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoViewer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"267477f5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}